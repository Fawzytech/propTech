<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Homes - Find Your Next Accommodation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-bg {
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://placehold.co/1600x900/a0aec0/ffffff?text=Modern+Ado+Ekiti+Home');
            background-size: cover;
            background-position: center;
        }
        /* Styles for modal transitions */
        #payment-modal-content, #success-modal-content, #auth-modal-content {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-indigo-600">Secure Homes</a>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#features" class="text-gray-600 hover:text-indigo-600">Features</a>
                <a href="#listings" class="text-gray-600 hover:text-indigo-600">Listings</a>
                <a href="#location" class="text-gray-600 hover:text-indigo-600">Locations</a>
                <a href="#contact" class="text-gray-600 hover:text-indigo-600">Contact</a>
            </div>
            <!-- Auth Buttons -->
            <div id="auth-links" class="hidden md:flex items-center space-x-4">
                 <button id="login-btn" class="text-gray-600 hover:text-indigo-600">Log In</button>
                 <button id="signup-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">Sign Up</button>
            </div>
            <!-- Logged In State -->
            <div id="user-session" class="hidden md:flex items-center space-x-4">
                <span id="welcome-msg" class="text-gray-700"></span>
                <button id="logout-btn" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-300">Log Out</button>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-gray-600 focus:outline-none">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="./Features.html" class="block py-2 text-gray-600 hover:text-indigo-600">Features</a>
            <a href="./Listings.html" class="block py-2 text-gray-600 hover:text-indigo-600">Listings</a>
            <a href="./Locations.html" class="block py-2 text-gray-600 hover:text-indigo-600">Locations</a>
            <a href="./Contact.html" class="block py-2 text-gray-600 hover:text-indigo-600">Contact</a>
            <hr class="my-2"/>
            <!-- Mobile Auth Buttons -->
            <div id="mobile-auth-links">
                <button id="mobile-login-btn" class="block w-full text-left py-2 text-gray-600 hover:text-indigo-600">Log In</button>
                <button id="mobile-signup-btn" class="block mt-2 w-full bg-indigo-600 text-white text-center px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">Sign Up</button>
            </div>
             <!-- Mobile Logged In State -->
            <div id="mobile-user-session" class="hidden">
                 <span id="mobile-welcome-msg" class="block py-2 text-gray-700"></span>
                 <button id="mobile-logout-btn" class="block mt-2 w-full bg-red-500 text-white text-center px-4 py-2 rounded-lg hover:bg-red-600 transition duration-300">Log Out</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Sections from previous step remain unchanged -->
        <!-- Hero Section -->
        <section class="hero-bg text-white">
            <div class="container mx-auto px-6 py-24 text-center">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4">Find Your Perfect Home in Ado Ekiti</h1>
                <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-3xl mx-auto">Discover apartments, self-contained rooms, and houses for rent from anywhere, at any time.</p>
                
                <!-- Search Bar -->
                <div class="bg-white rounded-lg shadow-xl max-w-4xl mx-auto p-4 md:flex items-center gap-4">
                    <div class="relative flex-grow mb-4 md:mb-0">
                        <i class="fas fa-map-marker-alt absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"></i>
                        <input type="text" placeholder="Enter a location in Ado Ekiti (e.g., Adebayo)" class="w-full h-14 pl-12 pr-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    <div class="relative flex-grow mb-4 md:mb-0 md:w-1/4">
                         <i class="fas fa-home absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"></i>
                         <select class="w-full h-14 pl-12 pr-4 border border-gray-200 rounded-lg appearance-none focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white">
                            <option>Any Type</option>
                            <option>Apartment</option>
                            <option>Self-Contained</option>
                            <option>Bungalow</option>
                            <option>Duplex</option>
                         </select>
                         <i class="fas fa-chevron-down absolute top-1/2 right-4 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
                    </div>
                    <button class="w-full md:w-auto bg-indigo-600 text-white h-14 px-8 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center">
                        <i class="fas fa-search mr-2"></i>
                        <span>Search</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section id="features" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">Get Accommodation in 3 Easy Steps</h2>
                    <p class="text-gray-600 mt-2">A seamless experience designed for you.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
                    <div class="flex flex-col items-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-20 w-20 flex items-center justify-center mb-4">
                            <i class="fas fa-search-location fa-2x"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">1. Search & Discover</h3>
                        <p class="text-gray-600">Use our advanced filters to find properties in your desired area of Ado Ekiti.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-20 w-20 flex items-center justify-center mb-4">
                            <i class="fas fa-vr-cardboard fa-2x"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">2. View & Inspect</h3>
                        <p class="text-gray-600">Take virtual tours or schedule a physical inspection directly from the app.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-indigo-100 text-indigo-600 rounded-full h-20 w-20 flex items-center justify-center mb-4">
                            <i class="fas fa-file-signature fa-2x"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">3. Secure & Pay</h3>
                        <p class="text-gray-600">Book your chosen accommodation securely and make payments online.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Why Choose Us / Safety Section -->
        <section class="py-20 bg-indigo-50">
            <div class="container mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="order-2 md:order-1">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">A Simpler, Safer Way to Rent</h2>
                        <p class="text-gray-600 mb-8">We focus on making your accommodation search in Ado Ekiti as user-friendly and secure as possible.</p>
                        <div class="space-y-6">
                            <div class="flex items-start">
                                <div class="bg-green-100 text-green-600 rounded-full h-12 w-12 flex-shrink-0 flex items-center justify-center mr-4">
                                    <i class="fas fa-shield-alt fa-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Secure Online Payments</h3>
                                    <p class="text-gray-600">Pay your rent and fees securely through our integrated gateway, powered by Nigeria's leading payment processors like Paystack.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-green-100 text-green-600 rounded-full h-12 w-12 flex-shrink-0 flex items-center justify-center mr-4">
                                    <i class="fas fa-check-circle fa-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Verified Listings</h3>
                                    <p class="text-gray-600">Every property is vetted by our team to ensure it meets our quality and safety standards. What you see is what you get.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                 <div class="bg-green-100 text-green-600 rounded-full h-12 w-12 flex-shrink-0 flex items-center justify-center mr-4">
                                    <i class="fas fa-headset fa-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Dedicated Support</h3>
                                    <p class="text-gray-600">Our support team is always available to assist you with bookings, payments, and any inquiries you may have.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="order-1 md:order-2">
                        <img src="https://placehold.co/600x450/c7d2fe/3730a3?text=Trust+&+Safety" alt="Trust and Safety illustration" class="rounded-lg shadow-xl w-full">
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Properties Section -->
        <section id="listings" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">Featured Properties in Ado Ekiti</h2>
                    <p class="text-gray-600 mt-2">Handpicked listings ready for you to move in.</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Property Card 1 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                        <img src="https://placehold.co/400x300/e2e8f0/4a5568?text=Modern+2-Bed" alt="Property Image" class="w-full h-56 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <span class="text-sm bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full self-start">Apartment</span>
                            <h3 class="text-xl font-bold my-3">Modern 2-Bedroom Flat</h3>
                            <p class="text-gray-600 mb-4"><i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>Iworoko, Ado Ekiti</p>
                            <div class="text-gray-500 flex items-center gap-4 text-base mb-4">
                                <span><i class="fas fa-bed mr-1"></i> 2</span>
                                <span><i class="fas fa-bath mr-1"></i> 3</span>
                            </div>
                            <div class="mt-auto pt-4 border-t border-gray-100 flex justify-between items-center">
                                <span class="text-indigo-600 text-xl font-semibold">₦180,000<span class="text-sm font-normal">/year</span></span>
                                <button class="book-now-btn bg-indigo-600 text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-indigo-700 transition duration-300"
                                        data-property-name="Modern 2-Bedroom Flat" data-property-price="180000" data-property-image="https://placehold.co/400x300/e2e8f0/4a5568?text=Modern+2-Bed">
                                    Book Now
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Property Card 2 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                        <img src="https://placehold.co/400x300/cbd5e0/4a5568?text=Cozy+Self-Con" alt="Property Image" class="w-full h-56 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <span class="text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full self-start">Self-Contained</span>
                            <h3 class="text-xl font-bold my-3">Cozy Student's Room</h3>
                            <p class="text-gray-600 mb-4"><i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>Iworoko Road (EKSU Area)</p>
                            <div class="text-gray-500 flex items-center gap-4 text-base mb-4">
                                <span><i class="fas fa-bed mr-1"></i> 1</span>
                                <span><i class="fas fa-bath mr-1"></i> 1</span>
                            </div>
                            <div class="mt-auto pt-4 border-t border-gray-100 flex justify-between items-center">
                                <span class="text-indigo-600 text-xl font-semibold">₦,000<span class="text-sm font-normal">/year</span></span>
                                <button class="book-now-btn bg-indigo-600 text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-indigo-700 transition duration-300"
                                        data-property-name="Cozy Student's Room" data-property-price="180000" data-property-image="https://placehold.co/400x300/cbd5e0/4a5568?text=Cozy+Self-Con">
                                    Book Now
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Property Card 3 -->
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                        <img src="https://placehold.co/400x300/b2f5ea/4a5568?text=Family+Bungalow" alt="Property Image" class="w-full h-56 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                           <span class="text-sm bg-purple-100 text-purple-800 px-3 py-1 rounded-full self-start">Bungalow</span>
                            <h3 class="text-xl font-bold my-3">Wide self Con</h3>
                            <p class="text-gray-600 mb-4"><i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>Phase 2</p>
                            <div class="text-gray-500 flex items-center gap-4 text-base mb-4">
                                <span><i class="fas fa-bed mr-1"></i> 4</span>
                                <span><i class="fas fa-bath mr-1"></i> 5</span>
                            </div>
                            <div class="mt-auto pt-4 border-t border-gray-100 flex justify-between items-center">
                                <span class="text-indigo-600 text-xl font-semibold">₦400,000<span class="text-sm font-normal">/year</span></span>
                                <button class="book-now-btn bg-indigo-600 text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-indigo-700 transition duration-300"
                                        data-property-name="Spacious Family Bungalow" data-property-price="400000" data-property-image="https://placehold.co/400x300/b2f5ea/4a5568?text=Family+Bungalow">
                                    Book Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="text-center mt-12">
                    <a href="#" class="bg-indigo-600 text-white px-8 py-3 rounded-lg hover:bg-indigo-700 transition duration-300">View All Properties</a>
                </div>
            </div>
        </section>

        <!-- Popular Locations Section -->
        <section id="locations" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800">Explore Popular Areas</h2>
                    <p class="text-gray-600 mt-2">Find properties in the most sought-after neighborhoods in Ado Ekiti.</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <a href="#" class="relative rounded-lg overflow-hidden h-64 group block">
                        <img src="https://placehold.co/300x400/718096/ffffff?text=School+Gate" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-end p-4">
                            <h3 class="text-white text-xl font-bold">School Gate</h3>
                        </div>
                    </a>
                     <a href="#" class="relative rounded-lg overflow-hidden h-64 group block">
                        <img src="https://placehold.co/300x400/9f7aea/ffffff?text=Iworoko" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-end p-4">
                            <h3 class="text-white text-xl font-bold">Iworoko</h3>
                        </div>
                    </a>
                     <a href="#" class="relative rounded-lg overflow-hidden h-64 group block">
                        <img src="https://placehold.co/300x400/ed8936/ffffff?text=Phase+2" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-end p-4">
                            <h3 class="text-white text-xl font-bold">Phase 2</h3>
                        </div>
                    </a>
                    <a href="#" class="relative rounded-lg overflow-hidden h-64 group block">
                        <img src="https://placehold.co/300x400/4299e1/ffffff?text=Osekita" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300">
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-end p-4">
                            <h3 class="text-white text-xl font-bold">Osekita</h3>
                        </div>
                    </a>
                </div>
            </div>
        </section>
        <section id="map">
      <h2>Map — Properties Around EKSU</h2>
      <!-- This is where the map will go -->
      <div id="mapid"></div>
      <p>Below is a map showing nearby properties and how far they are from EKSU (Ekiti State University).</p>
        </section>        
    </main>
    
    <!-- Footer -->
    <footer id="contact" class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">SecureHomes</h3>
                    <p class="text-gray-400">Your trusted partner in finding the best accommodation in Ado Ekiti, Nigeria.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul>
                        <li class="mb-2"><a href="#" class="hover:text-indigo-400">About Us</a></li>
                        <li class="mb-2"><a href="#listings" class="hover:text-indigo-400">Properties</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-indigo-400">Agent Portal</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                     <ul>
                        <li class="mb-2 flex items-center"><i class="fas fa-map-marker-alt mr-3"></i> Ado Ekiti, Ekiti State</li>
                        <li class="mb-2 flex items-center"><i class="fas fa-phone-alt mr-3"></i> +2349078039855</li>
                        <li class="mb-2 flex items-center"><i class="fas fa-envelope mr-3"></i> fawazadebowale06@gmail.com</li>
                    </ul>
                </div>
                 <div>
                    <h3 class="text-lg font-semibold mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin-in fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <hr class="border-gray-700 my-8"/>
            <div class="text-center text-gray-500">
                <p>&copy; <span id="year"></span> SecureHomes. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Modals -->

    <!-- Authentication Modal -->
    <div id="auth-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-[100] flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md mx-auto transform transition-all scale-95 opacity-0" id="auth-modal-content">
            <div class="flex justify-between items-center p-5 border-b">
                <h3 id="auth-title" class="text-2xl font-semibold">Login</h3>
                <button id="close-auth-modal-btn" class="text-gray-400 hover:text-gray-600 text-3xl">&times;</button>
            </div>
            <div class="p-6">
                <div id="auth-error-msg" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4" role="alert">
                    <span class="block sm:inline"></span>
                </div>
                <form id="auth-form" method="post" novalidate>
                    <div id="name-field-container" class="mb-4 hidden">
                        <label for="auth-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="auth-name" placeholder="e.g. Bisi Adeola" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="auth-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input type="email" id="auth-email" placeholder="you@example.com" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-6">
                        <label for="auth-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="auth-password" placeholder="••••••••" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <button id="auth-submit-btn" type="submit" class="w-full bg-indigo-600 text-white h-14 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center text-lg font-semibold">
                        Login
                    </button>
                </form>
                <p class="text-center text-sm text-gray-600 mt-6">
                    <span id="auth-toggle-text">Don't have an account?</span>
                    <button id="auth-toggle-btn" class="font-semibold text-indigo-600 hover:underline">Sign Up</button>
                </p>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div id="payment-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-[100] flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md mx-auto transform transition-all scale-95 opacity-0" id="payment-modal-content">
            <div class="flex justify-between items-center p-5 border-b">
                <h3 class="text-2xl font-semibold">Secure Your New Home</h3>
                <button id="close-modal-btn" class="text-gray-400 hover:text-gray-600 text-3xl">&times;</button>
            </div>
            <div class="p-6">
                <div class="flex items-center mb-6">
                    <img id="modal-property-image" src="" class="w-24 h-20 object-cover rounded-lg mr-4">
                    <div>
                        <h4 id="modal-property-name" class="font-bold text-lg"></h4>
                        <p class="text-indigo-600 font-semibold text-xl">₦<span id="modal-property-price"></span>/year</p>
                    </div>
                </div>
                <form id="payment-form">
                    <div class="mb-4">
                        <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="fullName" placeholder="e.g. Bisi Adeola" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input type="email" id="email" placeholder="you@example.com" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                     <div class="mb-6">
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="phone" placeholder="e.g. 08012345678" class="w-full h-12 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg text-center">
                         <p class="text-sm text-gray-500 mb-2">Proceed to our secure payment gateway.</p>
                         <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Paystack_Logo.svg/1280px-Paystack_Logo.svg.png" alt="Paystack Logo" class="h-6 mx-auto">
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white h-14 mt-6 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center text-lg font-semibold">
                        Pay ₦<span id="modal-pay-btn-price"></span> Now
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 z-[100] flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md mx-auto text-center p-8 transform transition-all scale-95 opacity-0" id="success-modal-content">
            <div class="text-green-500 bg-green-100 rounded-full h-20 w-20 flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-check fa-3x"></i>
            </div>
            <h3 class="text-2xl font-bold mb-2">Payment Successful!</h3>
            <p class="text-gray-600 mb-6">Your booking is confirmed. Our agent will contact you within 24 hours to finalize the details.</p>
            <button id="close-success-btn" class="w-full bg-indigo-600 text-white h-12 rounded-lg hover:bg-indigo-700 transition duration-300">Done</button>
        </div>
    </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Core Functionality ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            document.getElementById('year').textContent = new Date().getFullYear();
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- Generic Modal Open/Close Logic ---
            const openModal = (modal, content) => {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    content.classList.remove('scale-95', 'opacity-0');
                    content.classList.add('scale-100', 'opacity-100');
                }, 50);
            }
            const closeModal = (modal, content) => {
                content.classList.remove('scale-100', 'opacity-100');
                content.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            // --- Authentication Modal ---
            const authModal = document.getElementById('auth-modal');
            const authModalContent = document.getElementById('auth-modal-content');
            const closeAuthModalBtn = document.getElementById('close-auth-modal-btn');
            const authForm = document.getElementById('auth-form');
            const authTitle = document.getElementById('auth-title');
            const nameFieldContainer = document.getElementById('name-field-container');
            const authSubmitBtn = document.getElementById('auth-submit-btn');
            const authToggleText = document.getElementById('auth-toggle-text');
            const authToggleBtn = document.getElementById('auth-toggle-btn');
            const authErrorMsg = document.getElementById('auth-error-msg');
            let isLoginView = true;

            const setupAuthView = () => {
                authErrorMsg.classList.add('hidden'); // Hide error on view switch
                if (isLoginView) {
                    authTitle.textContent = 'Login';
                    nameFieldContainer.classList.add('hidden');
                    document.getElementById('auth-name').required = false;
                    authSubmitBtn.textContent = 'Login';
                    authToggleText.textContent = "Don't have an account?";
                    authToggleBtn.textContent = 'Sign Up';
                } else {
                    authTitle.textContent = 'Sign Up';
                    nameFieldContainer.classList.remove('hidden');
                    document.getElementById('auth-name').required = true;
                    authSubmitBtn.textContent = 'Create Account';
                    authToggleText.textContent = "Already have an account?";
                    authToggleBtn.textContent = 'Log In';
                }
            };

            const openAuthModal = (isLogin) => {
                isLoginView = isLogin;
                setupAuthView();
                openModal(authModal, authModalContent);
            };

            [document.getElementById('login-btn'), document.getElementById('mobile-login-btn')].forEach(btn => btn.addEventListener('click', () => openAuthModal(true)));
            [document.getElementById('signup-btn'), document.getElementById('mobile-signup-btn')].forEach(btn => btn.addEventListener('click', () => openAuthModal(false)));
            
            closeAuthModalBtn.addEventListener('click', () => closeModal(authModal, authModalContent));
            authModal.addEventListener('click', (e) => e.target === authModal && closeModal(authModal, authModalContent));
            authToggleBtn.addEventListener('click', () => {
                isLoginView = !isLoginView;
                setupAuthView();
            });

            // --- User Data Management (localStorage) ---
            const getUsers = () => JSON.parse(localStorage.getItem('adoHomesUsers')) || [];
            const saveUsers = (users) => localStorage.setItem('adoHomesUsers', JSON.stringify(users));
            const setCurrentUser = (user) => sessionStorage.setItem('adoHomesCurrentUser', JSON.stringify(user));
            const getCurrentUser = () => JSON.parse(sessionStorage.getItem('adoHomesCurrentUser'));
            const clearCurrentUser = () => sessionStorage.removeItem('adoHomesCurrentUser');
            
            const updateUIForLogin = (user) => {
                // Desktop
                document.getElementById('auth-links').classList.add('hidden');
                document.getElementById('user-session').classList.remove('hidden');
                document.getElementById('welcome-msg').textContent = `Welcome, ${user.name.split(' ')[0]}!`;
                // Mobile
                document.getElementById('mobile-auth-links').classList.add('hidden');
                document.getElementById('mobile-user-session').classList.remove('hidden');
                document.getElementById('mobile-welcome-msg').textContent = `Welcome, ${user.name.split(' ')[0]}!`;
            };

            const updateUIForLogout = () => {
                 // Desktop
                document.getElementById('auth-links').classList.remove('hidden');
                document.getElementById('user-session').classList.add('hidden');
                // Mobile
                document.getElementById('mobile-auth-links').classList.remove('hidden');
                document.getElementById('mobile-user-session').classList.add('hidden');
            };

            const handleLogout = () => {
                clearCurrentUser();
                updateUIForLogout();
            };

            [document.getElementById('logout-btn'), document.getElementById('mobile-logout-btn')].forEach(btn => btn.addEventListener('click', handleLogout));

            authForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('auth-email').value.trim().toLowerCase();
                const password = document.getElementById('auth-password').value;
                const name = document.getElementById('auth-name').value.trim();
                const users = getUsers();
                authErrorMsg.classList.add('hidden');

                if (isLoginView) {
                    // Login Logic
                    const user = users.find(u => u.email === email);
                    if (user && user.password === password) { // In a real app, compare hashed passwords
                        setCurrentUser(user);
                        updateUIForLogin(user);
                        closeModal(authModal, authModalContent);
                        authForm.reset();
                    } else {
                        authErrorMsg.textContent = 'Invalid email or password.';
                        authErrorMsg.classList.remove('hidden');
                    }
                } else {
                    // Sign Up Logic
                    if (users.some(u => u.email === email)) {
                        authErrorMsg.textContent = 'An account with this email already exists.';
                        authErrorMsg.classList.remove('hidden');
                        return;
                    }
                    if (!name || !email || !password) {
                        authErrorMsg.textContent = 'Please fill out all fields.';
                        authErrorMsg.classList.remove('hidden');
                        return;
                    }
                    // In a real app, you would hash the password here before saving
                    const newUser = { name, email, password };
                    users.push(newUser);
                    saveUsers(users);
                    setCurrentUser(newUser);
                    updateUIForLogin(newUser);
                    closeModal(authModal, authModalContent);
                    authForm.reset();
                }
            });

            // Check login status on page load
            const checkLoginStatus = () => {
                const user = getCurrentUser();
                if (user) {
                    updateUIForLogin(user);
                }
            };
            checkLoginStatus();

            // --- Payment Modal Functionality ---
            const paymentModal = document.getElementById('payment-modal');
            const paymentModalContent = document.getElementById('payment-modal-content');
            const successModal = document.getElementById('success-modal');
            const successModalContent = document.getElementById('success-modal-content');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const closeSuccessBtn = document.getElementById('close-success-btn');
            const paymentForm = document.getElementById('payment-form');
            const bookNowBtns = document.querySelectorAll('.book-now-btn');

            bookNowBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const user = getCurrentUser();
                     if (!user) {
                         openAuthModal(true);
                         return;
                     }
                    const button = e.currentTarget;
                    const propertyName = button.dataset.propertyName;
                    const propertyPrice = button.dataset.propertyPrice;
                    const propertyImage = button.dataset.propertyImage;

                    document.getElementById('modal-property-name').textContent = propertyName;
                    const formattedPrice = parseInt(propertyPrice).toLocaleString();
                    document.getElementById('modal-property-price').textContent = formattedPrice;
                    document.getElementById('modal-pay-btn-price').textContent = formattedPrice;
                    document.getElementById('modal-property-image').src = propertyImage;
                    
                    // Pre-fill payment form with logged-in user's data
                    document.getElementById('fullName').value = user.name;
                    document.getElementById('email').value = user.email;

                    openModal(paymentModal, paymentModalContent);
                });
            });

            closeModalBtn.addEventListener('click', () => closeModal(paymentModal, paymentModalContent));
            closeSuccessBtn.addEventListener('click', () => closeModal(successModal, successModalContent));
            paymentModal.addEventListener('click', (e) => e.target === paymentModal && closeModal(paymentModal, paymentModalContent));
            successModal.addEventListener('click', (e) => e.target === successModal && closeModal(successModal, successModalContent));

            paymentForm.addEventListener('submit', (e) => {
                e.preventDefault();
                closeModal(paymentModal, paymentModalContent);
                setTimeout(() => {
                     openModal(successModal, successModalContent);
                }, 350);
                paymentForm.reset();
            });

        });
        
        const eksuLat = 7.6214;  
const eksuLng = 5.2238; 

const map = L.map('mapid').setView([eksuLat, eksuLng], 14);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: '© OpenStreetMap contributors'
}).addTo(map);

L.marker([eksuLat, eksuLng]).addTo(map)
  .bindPopup('EKSU (Ekiti State University)')
  .openPopup();

const properties = [
  { name: 'House A', lat: 7.6300, lng: 5.2300 },
  { name: 'House B', lat: 7.6150, lng: 5.2100 },
];

function distanceInKm(lat1, lng1, lat2, lng2) {
  const R = 6371; 
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(lat1 * Math.PI/180) * Math.cos(lat2 * Math.PI/180) *
            Math.sin(dLng/2) * Math.sin(dLng/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}

properties.forEach(prop => {
  const d = distanceInKm(eksuLat, eksuLng, prop.lat, prop.lng).toFixed(2);
  L.marker([prop.lat, prop.lng])
    .addTo(map)
    .bindPopup(`${prop.name} — ${d} km from EKSU`);
});

L.circle([eksuLat, eksuLng], {
  color: 'blue',
  fillColor: '#cce5ff',
  fillOpacity: 0.2,
  radius: 3000 
}).addTo(map);

    </script>
</body>
</html>











